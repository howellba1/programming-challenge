(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.jiboProgrammingChallenge = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/// <reference path="../typings/index.d.ts" />
"use strict";
var PIXI = require('pixi.js');
var renderer = new PIXI.WebGLRenderer(1280, 780);
document.body.appendChild(renderer.view);
/*
 Programming challenge test created by Brian Howell 3/17/2017;
*/
// You need to create a root container that will hold the scene you want to draw.
var stage = new PIXI.Container();
var masterArray = [];
var xyArray = [];
var hopHistory = [];
var checkerStartPos = 0;
var max_x = 0;
var max_y = 0;
var numberOfSquares = 36;
var block_size = 102;
var RowAmount = Math.sqrt(numberOfSquares);
var startStop = true;
//checker image;
var checker = new PIXI.Sprite(PIXI.Texture.fromImage('images/checker.png'));
var blocks = new PIXI.Sprite(PIXI.Texture.fromImage('images/up_arrow.jpg'));
var _run = PIXI.Texture.fromImage('images/run.jpg');
var _pause = PIXI.Texture.fromImage('images/pause.jpg');
var pauseBtn = new PIXI.Sprite(_pause);
//some audio;
var bloop = new Audio('audio/FX_Bloop.mp3');
var blip = new Audio('audio/FX_Blip.mp3');
//some text
var style = new PIXI.TextStyle({
    fontFamily: 'Arial',
    fontSize: 36,
    fontStyle: 'italic',
    //fontWeight: 'bold',
    fill: ['#ffffff', '#00ff99'],
    stroke: '#4a1850',
    strokeThickness: 5,
    dropShadow: true,
    dropShadowColor: '#000000',
    dropShadowBlur: 4,
    dropShadowAngle: Math.PI / 6,
    dropShadowDistance: 6,
    wordWrap: true,
    wordWrapWidth: 440
});
var basicText = new PIXI.Text('Click checker to start.\n\nClick shuffle to restart.', style);
basicText.x = 100;
basicText.y = 120;
//load UI images;
addStopUI();
addshuffleUI();
add5x5UI();
add6x6UI();
buildBoard();
addTextUI();
animate();
function animate() {
    // start the timer for the next animation loop
    requestAnimationFrame(animate);
    // this is the main render call that makes pixi draw your container and its children.
    renderer.render(stage);
}
// main function for moving the checker based on arrow direction;
function startMoving() {
    if (startStop) {
        moveChecker(masterArray, checkerStartPos);
        // set move rate to half a second;
        setTimeout(startMoving, 500);
    }
}
function addTextUI() {
    //load start text instructions;
    stage.addChild(basicText);
}
function addStopUI() {
    pauseBtn.position.x = 120;
    pauseBtn.position.y = 10;
    pauseBtn.interactive = true;
    pauseBtn.buttonMode = true;
    pauseBtn.on('pointerdown', pause);
    stage.addChild(pauseBtn);
}
function addshuffleUI() {
    var _shuffle = PIXI.Texture.fromImage('images/shuffle.jpg');
    var btn = new PIXI.Sprite(_shuffle);
    btn.position.x = 250;
    btn.position.y = 10;
    btn.interactive = true;
    btn.buttonMode = true;
    btn.on('pointerdown', buildBoard);
    stage.addChild(btn);
}
function add5x5UI() {
    var _5x5 = PIXI.Texture.fromImage('images/5x5.jpg');
    var btn = new PIXI.Sprite(_5x5);
    btn.position.x = 400;
    btn.position.y = 10;
    btn.interactive = true;
    btn.buttonMode = true;
    btn.on('pointerdown', fiveBy);
    stage.addChild(btn);
}
function add6x6UI() {
    var _6x6 = PIXI.Texture.fromImage('images/6x6.jpg');
    var btn = new PIXI.Sprite(_6x6);
    btn.position.x = 500;
    btn.position.y = 10;
    btn.interactive = true;
    btn.buttonMode = true;
    btn.on('pointerdown', sixBy);
    stage.addChild(btn);
}
function buildBoard() {
    // remove all sprites after the UI buttons;
    removeRange(4, numberOfSquares + 6);
    xyArray = [];
    // Create a grid of squares;
    for (var i = 0; i < numberOfSquares; i++) {
        //replace the arrow image based on the random selecton 0-3;
        blocks = loadRandomArrow(i);
        blocks.anchor.set(0);
        blocks.position.x = ((i % RowAmount) * block_size) + 20;
        blocks.position.y = (Math.floor(i / RowAmount) * block_size) + 40;
        xyArray[i] = [blocks.position.x, blocks.position.y];
        stage.addChild(blocks);
    }
    // store the max positions for limits;
    max_x = blocks.position.x;
    max_y = blocks.position.y;
    addChecker();
}
function loadRandomArrow(blockNum) {
    // pick the arrow based on the random number;
    var min = 0;
    var max = 3;
    var aNum = Math.floor(Math.random() * (max - min + 1) + min);
    if (aNum == 0) {
        masterArray[blockNum] = 0;
        return new PIXI.Sprite(PIXI.Texture.fromImage('images/up_arrow.jpg'));
    }
    else if (aNum == 1) {
        masterArray[blockNum] = 1;
        return new PIXI.Sprite(PIXI.Texture.fromImage('images/dn_arrow.jpg'));
    }
    else if (aNum == 2) {
        masterArray[blockNum] = 2;
        return new PIXI.Sprite(PIXI.Texture.fromImage('images/left_arrow.jpg'));
    }
    else if (aNum == 3) {
        masterArray[blockNum] = 3;
        return new PIXI.Sprite(PIXI.Texture.fromImage('images/right_arrow.jpg'));
    }
}
;
function addChecker() {
    var ranPos = setRandomStartPoint();
    stage.removeChild(basicText);
    checker.anchor.set(0);
    checker.position.x = ranPos[0] + 26;
    checker.position.y = ranPos[1] + 46;
    checker.interactive = true;
    checker.buttonMode = true;
    checker.on('pointerdown', startG);
    stage.addChild(checker);
}
function startG() {
    stage.removeChild(basicText);
    startMoving();
}
function pause() {
    if (startStop) {
        startStop = false;
        this.texture = _run;
    }
    else {
        startStop = true;
        this.texture = _pause;
        if (basicText.text == "Lose") {
            basicText.text = "";
            buildBoard();
        }
        else if (basicText.text == "Win!") {
            basicText.text = "";
            buildBoard();
        }
        startMoving();
    }
    stage.removeChild(basicText);
}
function checkCycling(pos1, pos2) {
    var l = 0;
    for (var j = 0; j < hopHistory.length; j++) {
        if (hopHistory[j] == pos1)
            l++;
    }
    if (l > 2) {
        hopHistory = [];
        startStop = false;
        pauseBtn.texture = _run;
        basicText.text = "Lose";
        basicText.x = 10;
        basicText.y = 2;
        stage.addChild(basicText);
    }
}
function offTheEdge() {
    blip.play();
    hopHistory = [];
    startStop = false;
    pauseBtn.texture = _run;
    basicText.text = "Win!";
    basicText.x = 10;
    basicText.y = 2;
    stage.addChild(basicText);
}
function removeRange(s, e) {
    // clear the sprites so we can start over;
    stage.removeChildren(s, e);
}
function fiveBy() {
    numberOfSquares = 25;
    RowAmount = Math.sqrt(numberOfSquares);
    removeRange(4, numberOfSquares + 6);
    xyArray = [];
    buildBoard();
}
function sixBy() {
    numberOfSquares = 36;
    RowAmount = Math.sqrt(numberOfSquares);
    removeRange(4, numberOfSquares + 6);
    xyArray = [];
    buildBoard();
}
function setRandomStartPoint() {
    // returns an array with the x and y location of the random start point;
    var xyArray = [];
    var min = 0;
    var max = numberOfSquares - 1;
    var rNum = Math.floor(Math.random() * (max - min + 1) + min);
    for (var i = 0; i < numberOfSquares; i++) {
        if (i == rNum) {
            xyArray[0] = ((i % RowAmount) * block_size) + 26;
            xyArray[1] = (Math.floor(i / RowAmount) * block_size) + 26;
            checkerStartPos = i;
            break;
        }
    }
    return xyArray;
}
function moveChecker(_pos, _checkerStartPos) {
    var nPos = xyArray;
    // move checker to a new position based on the index number 0=up 1 = down 2=left 3=right;
    if (_pos[_checkerStartPos] == 0) {
        checker.position.y = checker.position.y - block_size;
    }
    else if (_pos[_checkerStartPos] == 1) {
        checker.position.y = checker.position.y + block_size;
    }
    else if (_pos[_checkerStartPos] == 2) {
        checker.position.x = checker.position.x - block_size;
    }
    else if (_pos[_checkerStartPos] == 3) {
        checker.position.x = checker.position.x + block_size;
    }
    //check limits. If it goes off the board add a new checker in a random positon;
    if (checker.position.x > max_x + block_size) {
        offTheEdge();
        return;
    }
    else if (checker.position.y > max_y + block_size) {
        offTheEdge();
        return;
    }
    else if (checker.position.x < 0) {
        offTheEdge();
        return;
    }
    else if (checker.position.y < 0) {
        offTheEdge();
        return;
    }
    for (var i = 0; i < xyArray.length; i++) {
        var posXY = xyArray[i];
        //determine the arrow block index number based on the new x y position of the checker;
        if ((posXY[0] <= checker.position.x && checker.position.x <= posXY[0] + block_size) && (posXY[1] <= checker.position.y && checker.position.y <= posXY[1] + block_size)) {
            //set the new index position value;
            checkerStartPos = i;
            hopHistory.push(i);
            bloop.play();
            break;
        }
    }
    var count = checkCycling(_checkerStartPos, i);
}
},{"pixi.js":undefined}]},{},[1])(1)
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy93YXRjaGlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwic3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUEsOENBQThDOztBQUU5QyxJQUFPLElBQUksV0FBVyxTQUFTLENBQUMsQ0FBQztBQUNqQyxJQUFNLFFBQVEsR0FBc0IsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN0RSxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7QUFFekM7O0VBRUU7QUFFRixpRkFBaUY7QUFDakYsSUFBTSxLQUFLLEdBQWtCLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO0FBRWxELElBQUksV0FBVyxHQUFHLEVBQUUsQ0FBQztBQUNyQixJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7QUFDakIsSUFBSSxVQUFVLEdBQUcsRUFBRSxDQUFDO0FBQ3BCLElBQUksZUFBZSxHQUFHLENBQUMsQ0FBQztBQUN4QixJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDZCxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDZCxJQUFJLGVBQWUsR0FBRyxFQUFFLENBQUM7QUFDekIsSUFBSSxVQUFVLEdBQUcsR0FBRyxDQUFDO0FBQ3JCLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDM0MsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDO0FBRXJCLGdCQUFnQjtBQUNoQixJQUFJLE9BQU8sR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDO0FBRTVFLElBQUksTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FB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YixNQUFNLENBQUM7SUFDVCxDQUFDO0lBRUQsR0FBRyxDQUFBLENBQUMsSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFDLENBQUMsR0FBQyxPQUFPLENBQUMsTUFBTSxFQUFDLENBQUMsRUFBRSxFQUFDLENBQUM7UUFDaEMsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLHNGQUFzRjtRQUN0RixFQUFFLENBQUEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUEsQ0FBQztZQUNuSyxtQ0FBbUM7WUFDbkMsZUFBZSxHQUFHLENBQUMsQ0FBQztZQUNwQixVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ25CLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNiLEtBQUssQ0FBQztRQUNSLENBQUM7SUFDSCxDQUFDO0lBRUgsSUFBSSxLQUFLLEdBQUcsWUFBWSxDQUFDLGdCQUFnQixFQUFDLENBQUMsQ0FBQyxDQUFDO0FBRS9DLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3R5cGluZ3MvaW5kZXguZC50c1wiIC8+XG5cbmltcG9ydCBQSVhJID0gcmVxdWlyZSgncGl4aS5qcycpO1xuY29uc3QgcmVuZGVyZXI6UElYSS5XZWJHTFJlbmRlcmVyID0gbmV3IFBJWEkuV2ViR0xSZW5kZXJlcigxMjgwLCA3ODApO1xuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZW5kZXJlci52aWV3KTtcblxuLypcbiBQcm9ncmFtbWluZyBjaGFsbGVuZ2UgdGVzdCBjcmVhdGVkIGJ5IEJyaWFuIEhvd2VsbCAzLzE3LzIwMTc7XG4qL1xuXG4vLyBZb3UgbmVlZCB0byBjcmVhdGUgYSByb290IGNvbnRhaW5lciB0aGF0IHdpbGwgaG9sZCB0aGUgc2NlbmUgeW91IHdhbnQgdG8gZHJhdy5cbmNvbnN0IHN0YWdlOlBJWEkuQ29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG5cbnZhciBtYXN0ZXJBcnJheSA9IFtdO1xudmFyIHh5QXJyYXkgPSBbXTtcbnZhciBob3BIaXN0b3J5ID0gW107XG52YXIgY2hlY2tlclN0YXJ0UG9zID0gMDtcbnZhciBtYXhfeCA9IDA7XG52YXIgbWF4X3kgPSAwO1xudmFyIG51bWJlck9mU3F1YXJlcyA9IDM2O1xudmFyIGJsb2NrX3NpemUgPSAxMDI7XG52YXIgUm93QW1vdW50ID0gTWF0aC5zcXJ0KG51bWJlck9mU3F1YXJlcyk7XG52YXIgc3RhcnRTdG9wID0gdHJ1ZTtcblxuLy9jaGVja2VyIGltYWdlO1xudmFyIGNoZWNrZXIgPSBuZXcgUElYSS5TcHJpdGUoUElYSS5UZXh0dXJlLmZyb21JbWFnZSgnaW1hZ2VzL2NoZWNrZXIucG5nJykpO1xuXG52YXIgYmxvY2tzID0gbmV3IFBJWEkuU3ByaXRlKFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoJ2ltYWdlcy91cF9hcnJvdy5qcGcnKSk7XG5cbnZhciBfcnVuID0gUElYSS5UZXh0dXJlLmZyb21JbWFnZSgnaW1hZ2VzL3J1bi5qcGcnKTtcbnZhciBfcGF1c2UgPSBQSVhJLlRleHR1cmUuZnJvbUltYWdlKCdpbWFnZXMvcGF1c2UuanBnJyk7XG52YXIgcGF1c2VCdG4gPSBuZXcgUElYSS5TcHJpdGUoX3BhdXNlKTtcblxuLy9zb21lIGF1ZGlvO1xudmFyIGJsb29wID0gbmV3IEF1ZGlvKCdhdWRpby9GWF9CbG9vcC5tcDMnKTtcbnZhciBibGlwID0gbmV3IEF1ZGlvKCdhdWRpby9GWF9CbGlwLm1wMycpO1xuLy9zb21lIHRleHRcbnZhciBzdHlsZSA9IG5ldyBQSVhJLlRleHRTdHlsZSh7XG4gIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gIGZvbnRTaXplOiAzNixcbiAgZm9udFN0eWxlOiAnaXRhbGljJyxcbiAgLy9mb250V2VpZ2h0OiAnYm9sZCcsXG4gIGZpbGw6IFsnI2ZmZmZmZicsICcjMDBmZjk5J10sIC8vIGdyYWRpZW50XG4gIHN0cm9rZTogJyM0YTE4NTAnLFxuICBzdHJva2VUaGlja25lc3M6IDUsXG4gIGRyb3BTaGFkb3c6IHRydWUsXG4gIGRyb3BTaGFkb3dDb2xvcjogJyMwMDAwMDAnLFxuICBkcm9wU2hhZG93Qmx1cjogNCxcbiAgZHJvcFNoYWRvd0FuZ2xlOiBNYXRoLlBJIC8gNixcbiAgZHJvcFNoYWRvd0Rpc3RhbmNlOiA2LFxuICB3b3JkV3JhcDogdHJ1ZSxcbiAgd29yZFdyYXBXaWR0aDogNDQwXG59KTtcbnZhciBiYXNpY1RleHQgPSBuZXcgUElYSS5UZXh0KCdDbGljayBjaGVja2VyIHRvIHN0YXJ0LlxcblxcbkNsaWNrIHNodWZmbGUgdG8gcmVzdGFydC4nLHN0eWxlKTtcbmJhc2ljVGV4dC54ID0gMTAwO1xuYmFzaWNUZXh0LnkgPSAxMjA7XG5cbi8vbG9hZCBVSSBpbWFnZXM7XG5hZGRTdG9wVUkoKTtcbmFkZHNodWZmbGVVSSgpO1xuYWRkNXg1VUkoKTtcbmFkZDZ4NlVJKCk7XG5cbmJ1aWxkQm9hcmQoKTtcbmFkZFRleHRVSSgpO1xuXG5hbmltYXRlKCk7XG5cbmZ1bmN0aW9uIGFuaW1hdGUoKSB7XG4gIC8vIHN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIG5leHQgYW5pbWF0aW9uIGxvb3BcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICAgIC8vIHRoaXMgaXMgdGhlIG1haW4gcmVuZGVyIGNhbGwgdGhhdCBtYWtlcyBwaXhpIGRyYXcgeW91ciBjb250YWluZXIgYW5kIGl0cyBjaGlsZHJlbi5cbiAgcmVuZGVyZXIucmVuZGVyKHN0YWdlKTtcbn1cblxuLy8gbWFpbiBmdW5jdGlvbiBmb3IgbW92aW5nIHRoZSBjaGVja2VyIGJhc2VkIG9uIGFycm93IGRpcmVjdGlvbjtcbmZ1bmN0aW9uIHN0YXJ0TW92aW5nKCl7XG4gIGlmKHN0YXJ0U3RvcCl7XG4gICAgbW92ZUNoZWNrZXIobWFzdGVyQXJyYXksY2hlY2tlclN0YXJ0UG9zKTtcbiAgICAvLyBzZXQgbW92ZSByYXRlIHRvIGhhbGYgYSBzZWNvbmQ7XG4gICAgc2V0VGltZW91dChzdGFydE1vdmluZyw1MDApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkZFRleHRVSSgpe1xuICAvL2xvYWQgc3RhcnQgdGV4dCBpbnN0cnVjdGlvbnM7XG4gIHN0YWdlLmFkZENoaWxkKGJhc2ljVGV4dCk7XG59XG5cbmZ1bmN0aW9uIGFkZFN0b3BVSSgpe1xuICBwYXVzZUJ0bi5wb3NpdGlvbi54ID0gMTIwO1xuICBwYXVzZUJ0bi5wb3NpdGlvbi55ID0gMTA7XG4gIHBhdXNlQnRuLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgcGF1c2VCdG4uYnV0dG9uTW9kZSA9IHRydWU7XG4gIHBhdXNlQnRuLm9uKCdwb2ludGVyZG93bicsIHBhdXNlKTtcbiAgc3RhZ2UuYWRkQ2hpbGQocGF1c2VCdG4pO1xufVxuXG5mdW5jdGlvbiBhZGRzaHVmZmxlVUkoKXtcbiAgdmFyIF9zaHVmZmxlID0gUElYSS5UZXh0dXJlLmZyb21JbWFnZSgnaW1hZ2VzL3NodWZmbGUuanBnJyk7XG4gIHZhciBidG4gPSBuZXcgUElYSS5TcHJpdGUoX3NodWZmbGUpO1xuICBidG4ucG9zaXRpb24ueCA9IDI1MDtcbiAgYnRuLnBvc2l0aW9uLnkgPSAxMDtcbiAgYnRuLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgYnRuLmJ1dHRvbk1vZGUgPSB0cnVlO1xuICBidG4ub24oJ3BvaW50ZXJkb3duJywgYnVpbGRCb2FyZCk7XG4gIHN0YWdlLmFkZENoaWxkKGJ0bik7XG59XG5cbmZ1bmN0aW9uIGFkZDV4NVVJKCl7XG4gIHZhciBfNXg1ID0gUElYSS5UZXh0dXJlLmZyb21JbWFnZSgnaW1hZ2VzLzV4NS5qcGcnKTtcbiAgdmFyIGJ0biA9IG5ldyBQSVhJLlNwcml0ZShfNXg1KTtcbiAgYnRuLnBvc2l0aW9uLnggPSA0MDA7XG4gIGJ0bi5wb3NpdGlvbi55ID0gMTA7XG4gIGJ0bi5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gIGJ0bi5idXR0b25Nb2RlID0gdHJ1ZTtcbiAgYnRuLm9uKCdwb2ludGVyZG93bicsIGZpdmVCeSk7XG4gIHN0YWdlLmFkZENoaWxkKGJ0bik7XG59XG5cbmZ1bmN0aW9uIGFkZDZ4NlVJKCl7XG4gIHZhciBfNng2ID0gUElYSS5UZXh0dXJlLmZyb21JbWFnZSgnaW1hZ2VzLzZ4Ni5qcGcnKTtcbiAgdmFyIGJ0biA9IG5ldyBQSVhJLlNwcml0ZShfNng2KTtcbiAgYnRuLnBvc2l0aW9uLnggPSA1MDA7XG4gIGJ0bi5wb3NpdGlvbi55ID0gMTA7XG4gIGJ0bi5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gIGJ0bi5idXR0b25Nb2RlID0gdHJ1ZTtcbiAgYnRuLm9uKCdwb2ludGVyZG93bicsIHNpeEJ5KTtcbiAgc3RhZ2UuYWRkQ2hpbGQoYnRuKTtcbn1cblxuZnVuY3Rpb24gYnVpbGRCb2FyZCgpe1xuXG4gIC8vIHJlbW92ZSBhbGwgc3ByaXRlcyBhZnRlciB0aGUgVUkgYnV0dG9ucztcbiAgcmVtb3ZlUmFuZ2UoNCxudW1iZXJPZlNxdWFyZXMrNik7XG4gIHh5QXJyYXkgPSBbXTtcbiAgLy8gQ3JlYXRlIGEgZ3JpZCBvZiBzcXVhcmVzO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG51bWJlck9mU3F1YXJlczsgaSsrKSB7XG4gICAgICAvL3JlcGxhY2UgdGhlIGFycm93IGltYWdlIGJhc2VkIG9uIHRoZSByYW5kb20gc2VsZWN0b24gMC0zO1xuICAgICAgYmxvY2tzID0gbG9hZFJhbmRvbUFycm93KGkpO1xuICAgICAgYmxvY2tzLmFuY2hvci5zZXQoMCk7XG4gICAgICBibG9ja3MucG9zaXRpb24ueCA9ICgoaSAlIFJvd0Ftb3VudCkgKiBibG9ja19zaXplKSsyMDtcbiAgICAgIGJsb2Nrcy5wb3NpdGlvbi55ID0gKE1hdGguZmxvb3IoaSAvIFJvd0Ftb3VudCkgKiBibG9ja19zaXplKSs0MDtcbiAgICAgIHh5QXJyYXlbaV0gPSBbYmxvY2tzLnBvc2l0aW9uLngsYmxvY2tzLnBvc2l0aW9uLnldXG4gICAgICBzdGFnZS5hZGRDaGlsZChibG9ja3MpO1xuICB9XG4gIC8vIHN0b3JlIHRoZSBtYXggcG9zaXRpb25zIGZvciBsaW1pdHM7XG4gIG1heF94ID0gYmxvY2tzLnBvc2l0aW9uLng7XG4gIG1heF95ID0gYmxvY2tzLnBvc2l0aW9uLnk7XG5cbiAgYWRkQ2hlY2tlcigpO1xuXG59XG5cbmZ1bmN0aW9uIGxvYWRSYW5kb21BcnJvdyhibG9ja051bSl7XG4gIC8vIHBpY2sgdGhlIGFycm93IGJhc2VkIG9uIHRoZSByYW5kb20gbnVtYmVyO1xuICB2YXIgbWluID0gMDtcbiAgdmFyIG1heCA9IDM7XG4gIHZhciBhTnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpICsgbWluKTtcbiAgaWYoYU51bT09MCl7XG4gICAgbWFzdGVyQXJyYXlbYmxvY2tOdW1dID0gMDtcbiAgICByZXR1cm4gbmV3IFBJWEkuU3ByaXRlKFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoJ2ltYWdlcy91cF9hcnJvdy5qcGcnKSk7XG4gIH1lbHNlIGlmKGFOdW09PTEpe1xuICAgIG1hc3RlckFycmF5W2Jsb2NrTnVtXSA9IDE7XG4gICAgcmV0dXJuIG5ldyBQSVhJLlNwcml0ZShQSVhJLlRleHR1cmUuZnJvbUltYWdlKCdpbWFnZXMvZG5fYXJyb3cuanBnJykpO1xuICB9ZWxzZSBpZihhTnVtPT0yKXtcbiAgICBtYXN0ZXJBcnJheVtibG9ja051bV0gPSAyO1xuICAgIHJldHVybiBuZXcgUElYSS5TcHJpdGUoUElYSS5UZXh0dXJlLmZyb21JbWFnZSgnaW1hZ2VzL2xlZnRfYXJyb3cuanBnJykpO1xuICB9ZWxzZSBpZihhTnVtPT0zKXtcbiAgICBtYXN0ZXJBcnJheVtibG9ja051bV0gPSAzO1xuICAgIHJldHVybiBuZXcgUElYSS5TcHJpdGUoUElYSS5UZXh0dXJlLmZyb21JbWFnZSgnaW1hZ2VzL3JpZ2h0X2Fycm93LmpwZycpKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gYWRkQ2hlY2tlcigpe1xuICB2YXIgcmFuUG9zID0gc2V0UmFuZG9tU3RhcnRQb2ludCgpO1xuICBzdGFnZS5yZW1vdmVDaGlsZChiYXNpY1RleHQpO1xuICBjaGVja2VyLmFuY2hvci5zZXQoMCk7XG4gIGNoZWNrZXIucG9zaXRpb24ueCA9IHJhblBvc1swXSsyNjtcbiAgY2hlY2tlci5wb3NpdGlvbi55ID0gcmFuUG9zWzFdKzQ2O1xuICBjaGVja2VyLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgY2hlY2tlci5idXR0b25Nb2RlID0gdHJ1ZTtcbiAgY2hlY2tlci5vbigncG9pbnRlcmRvd24nLCBzdGFydEcpO1xuICBzdGFnZS5hZGRDaGlsZChjaGVja2VyKTtcbn1cblxuZnVuY3Rpb24gc3RhcnRHKCl7XG4gIHN0YWdlLnJlbW92ZUNoaWxkKGJhc2ljVGV4dCk7XG4gIHN0YXJ0TW92aW5nKCk7XG59XG5cbmZ1bmN0aW9uIHBhdXNlKCl7XG4gIGlmKHN0YXJ0U3RvcCl7XG4gICAgICBzdGFydFN0b3AgPSBmYWxzZTtcbiAgICAgIHRoaXMudGV4dHVyZSA9IF9ydW47XG4gIH1lbHNle1xuICAgIHN0YXJ0U3RvcCA9IHRydWU7XG4gICAgdGhpcy50ZXh0dXJlID0gX3BhdXNlO1xuICAgIGlmKGJhc2ljVGV4dC50ZXh0ID09IFwiTG9zZVwiKXtcbiAgICAgIGJhc2ljVGV4dC50ZXh0ID0gXCJcIjtcbiAgICAgIGJ1aWxkQm9hcmQoKTtcbiAgICB9ZWxzZSBpZihiYXNpY1RleHQudGV4dCA9PSBcIldpbiFcIil7XG4gICAgICBiYXNpY1RleHQudGV4dCA9IFwiXCI7XG4gICAgICBidWlsZEJvYXJkKCk7XG4gICAgfVxuICAgIHN0YXJ0TW92aW5nKCk7XG4gIH1cbiAgc3RhZ2UucmVtb3ZlQ2hpbGQoYmFzaWNUZXh0KTtcbn1cblxuZnVuY3Rpb24gY2hlY2tDeWNsaW5nKHBvczEscG9zMil7XG4gIHZhciBsID0gMDtcbiAgZm9yICh2YXIgaj0wOyBqPGhvcEhpc3RvcnkubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmIChob3BIaXN0b3J5W2pdID09IHBvczEpIGwrKztcbiAgfVxuICBpZihsID4gMil7XG4gICAgICBob3BIaXN0b3J5ID0gW107XG4gICAgICBzdGFydFN0b3AgPSBmYWxzZTtcbiAgICAgIHBhdXNlQnRuLnRleHR1cmUgPSBfcnVuO1xuICAgICAgYmFzaWNUZXh0LnRleHQgPSBcIkxvc2VcIjtcbiAgICAgIGJhc2ljVGV4dC54ID0gMTA7XG4gICAgICBiYXNpY1RleHQueSA9IDI7XG4gICAgICBzdGFnZS5hZGRDaGlsZChiYXNpY1RleHQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9mZlRoZUVkZ2UoKXtcblxuICBibGlwLnBsYXkoKTtcbiAgaG9wSGlzdG9yeSA9IFtdO1xuICBzdGFydFN0b3AgPSBmYWxzZTtcbiAgcGF1c2VCdG4udGV4dHVyZSA9IF9ydW47XG4gIGJhc2ljVGV4dC50ZXh0ID0gXCJXaW4hXCI7XG4gIGJhc2ljVGV4dC54ID0gMTA7XG4gIGJhc2ljVGV4dC55ID0gMjtcbiAgc3RhZ2UuYWRkQ2hpbGQoYmFzaWNUZXh0KTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlUmFuZ2UocyxlKXtcbiAgLy8gY2xlYXIgdGhlIHNwcml0ZXMgc28gd2UgY2FuIHN0YXJ0IG92ZXI7XG4gIHN0YWdlLnJlbW92ZUNoaWxkcmVuKHMsZSk7XG59XG5cbmZ1bmN0aW9uIGZpdmVCeSgpe1xuICBudW1iZXJPZlNxdWFyZXMgPSAyNTtcbiAgUm93QW1vdW50ID0gTWF0aC5zcXJ0KG51bWJlck9mU3F1YXJlcyk7XG4gIHJlbW92ZVJhbmdlKDQsbnVtYmVyT2ZTcXVhcmVzKzYpO1xuICB4eUFycmF5ID0gW107XG4gIGJ1aWxkQm9hcmQoKTtcbn1cblxuZnVuY3Rpb24gc2l4QnkoKXtcbiAgbnVtYmVyT2ZTcXVhcmVzID0gMzY7XG4gIFJvd0Ftb3VudCA9IE1hdGguc3FydChudW1iZXJPZlNxdWFyZXMpO1xuICByZW1vdmVSYW5nZSg0LG51bWJlck9mU3F1YXJlcys2KTtcbiAgeHlBcnJheSA9IFtdO1xuICBidWlsZEJvYXJkKCk7XG59XG5cbmZ1bmN0aW9uIHNldFJhbmRvbVN0YXJ0UG9pbnQoKXtcbiAgLy8gcmV0dXJucyBhbiBhcnJheSB3aXRoIHRoZSB4IGFuZCB5IGxvY2F0aW9uIG9mIHRoZSByYW5kb20gc3RhcnQgcG9pbnQ7XG4gIHZhciB4eUFycmF5ID0gW107XG4gIHZhciBtaW4gPSAwO1xuICB2YXIgbWF4ID0gbnVtYmVyT2ZTcXVhcmVzLTE7XG4gIHZhciByTnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpICsgbWluKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IG51bWJlck9mU3F1YXJlczsgaSsrKSB7XG4gICAgICBpZihpID09IHJOdW0pe1xuICAgICAgICB4eUFycmF5WzBdID0gKChpICUgUm93QW1vdW50KSAqIGJsb2NrX3NpemUpKzI2O1xuICAgICAgICB4eUFycmF5WzFdID0gKE1hdGguZmxvb3IoaSAvIFJvd0Ftb3VudCkgKiBibG9ja19zaXplKSsyNjtcbiAgICAgICAgY2hlY2tlclN0YXJ0UG9zID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIHh5QXJyYXk7XG59XG5cbmZ1bmN0aW9uIG1vdmVDaGVja2VyKF9wb3MsX2NoZWNrZXJTdGFydFBvcyl7XG4gIHZhciBuUG9zID0geHlBcnJheTtcbiAgLy8gbW92ZSBjaGVja2VyIHRvIGEgbmV3IHBvc2l0aW9uIGJhc2VkIG9uIHRoZSBpbmRleCBudW1iZXIgMD11cCAxID0gZG93biAyPWxlZnQgMz1yaWdodDtcbiAgICBpZihfcG9zW19jaGVja2VyU3RhcnRQb3NdID09IDApe1xuICAgICAgY2hlY2tlci5wb3NpdGlvbi55ID0gY2hlY2tlci5wb3NpdGlvbi55LWJsb2NrX3NpemU7XG4gICAgfWVsc2UgaWYoX3Bvc1tfY2hlY2tlclN0YXJ0UG9zXSA9PSAxKXtcbiAgICAgIGNoZWNrZXIucG9zaXRpb24ueSA9IGNoZWNrZXIucG9zaXRpb24ueStibG9ja19zaXplO1xuICAgIH1lbHNlIGlmKF9wb3NbX2NoZWNrZXJTdGFydFBvc10gPT0gMil7XG4gICAgICBjaGVja2VyLnBvc2l0aW9uLnggPSBjaGVja2VyLnBvc2l0aW9uLngtYmxvY2tfc2l6ZTtcbiAgICB9ZWxzZSBpZihfcG9zW19jaGVja2VyU3RhcnRQb3NdID09IDMpe1xuICAgICAgY2hlY2tlci5wb3NpdGlvbi54ID0gY2hlY2tlci5wb3NpdGlvbi54K2Jsb2NrX3NpemU7XG4gICAgfVxuICAgIC8vY2hlY2sgbGltaXRzLiBJZiBpdCBnb2VzIG9mZiB0aGUgYm9hcmQgYWRkIGEgbmV3IGNoZWNrZXIgaW4gYSByYW5kb20gcG9zaXRvbjtcbiAgICBpZihjaGVja2VyLnBvc2l0aW9uLnggPiBtYXhfeCtibG9ja19zaXplKXtcbiAgICAgIG9mZlRoZUVkZ2UoKTtcbiAgICAgIHJldHVybjtcbiAgICB9ZWxzZSBpZihjaGVja2VyLnBvc2l0aW9uLnkgPiBtYXhfeStibG9ja19zaXplKXtcbiAgICAgIG9mZlRoZUVkZ2UoKTtcbiAgICAgIHJldHVybjtcbiAgICB9ZWxzZSBpZihjaGVja2VyLnBvc2l0aW9uLnggPCAwKXtcbiAgICAgIG9mZlRoZUVkZ2UoKTtcbiAgICAgIHJldHVybjtcbiAgICB9ZWxzZSBpZihjaGVja2VyLnBvc2l0aW9uLnkgPCAwKXtcbiAgICAgIG9mZlRoZUVkZ2UoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IodmFyIGk9MDtpPHh5QXJyYXkubGVuZ3RoO2krKyl7XG4gICAgICB2YXIgcG9zWFkgPSB4eUFycmF5W2ldO1xuICAgICAgLy9kZXRlcm1pbmUgdGhlIGFycm93IGJsb2NrIGluZGV4IG51bWJlciBiYXNlZCBvbiB0aGUgbmV3IHggeSBwb3NpdGlvbiBvZiB0aGUgY2hlY2tlcjtcbiAgICAgIGlmKChwb3NYWVswXSA8PWNoZWNrZXIucG9zaXRpb24ueCAmJiBjaGVja2VyLnBvc2l0aW9uLnggPD0gcG9zWFlbMF0gKyBibG9ja19zaXplKSAmJiAocG9zWFlbMV0gPD1jaGVja2VyLnBvc2l0aW9uLnkgJiYgY2hlY2tlci5wb3NpdGlvbi55IDw9IHBvc1hZWzFdICsgYmxvY2tfc2l6ZSkpe1xuICAgICAgICAvL3NldCB0aGUgbmV3IGluZGV4IHBvc2l0aW9uIHZhbHVlO1xuICAgICAgICBjaGVja2VyU3RhcnRQb3MgPSBpO1xuICAgICAgICBob3BIaXN0b3J5LnB1c2goaSk7XG4gICAgICAgIGJsb29wLnBsYXkoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gIHZhciBjb3VudCA9IGNoZWNrQ3ljbGluZyhfY2hlY2tlclN0YXJ0UG9zLGkpO1xuXG59XG4iXX0=
